<html>
    <head>
        <title>Pasco Tests</title>
        <script src="../html/bower_components/underscore/underscore-min.js"></script>
        <script src="../html/js/core.js"></script>
    </head>
    
    <body>
        <h1>Pasco tests</h1>

        <ul id="test-list">
           
        </ul>
        

        <script>
            (async () => {
                const tests = [
                    {
                        name: "prepare_tree",
                        description: "Throws an error when nothing is passed",
                        test: function() {
                            try {
                                prepare_tree();
                                return false
                            } catch (error) {
                                return error.message === "Invalid argument"
                            }
                        }
                    },
                ];

                var testList = document.getElementById("test-list");

                for(const current of tests) {
                    const result = await current.test();
                    const testItem = document.createElement("li");
                    testItem.innerHTML = `${current.name} - ${current.description} - ${result ? "Passed" : "Failed"}`;
                    testList.appendChild(testItem);

                }
            })()
        </script>
    </body>
<html>